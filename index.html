<?php
// Conexi√≥n a la base de datos
$host = "localhost";
$user = "root";
$pass = "";
$db   = "web_db";

$conexion2 = new mysqli($host, $user, $pass, $db);
if ($conexion2->connect_error) {
    die("Error de conexi√≥n: " . $conexion2->connect_error);
}

// Procesar el formulario
$mensajeSweet = ""; // Variable para SweetAlert
if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $nombre = $conexion2->real_escape_string($_POST['nombre']);
    $email = $conexion2->real_escape_string($_POST['email']);
    $telefono = $conexion2->real_escape_string($_POST['telefono']);
    $plan = $conexion2->real_escape_string($_POST['plan']);
    $metodo = $conexion2->real_escape_string($_POST['metodo']);
    $mensaje = $conexion2->real_escape_string($_POST['mensaje']);

    $sql = "INSERT INTO pedidos (nombre, email, telefono, plan, metodo, mensaje)
            VALUES ('$nombre', '$email', '$telefono', '$plan', '$metodo', '$mensaje')";

    if ($conexion2->query($sql) === TRUE) {
        $mensajeSweet = "success|¬°Plan contratado con √©xito!|Has seleccionado el plan: $plan";
    } else {
        $mensajeSweet = "error|Error|No se pudo registrar el plan: ".$conexion2->error;
    }
}
?>
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soluciones Digitales Pro</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<!-- SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<style>
* {margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
html {scroll-behavior:smooth;}
body {background:#0f172a;color:white;}
section{text-align:center;}
.hero {background:linear-gradient(120deg,#0f172a,#1e293b);padding:100px 20px 80px;}
.hero h1{font-size:3rem;max-width:900px;margin:0 auto;}
.hero p{margin:20px auto 0;font-size:1.15rem;opacity:.9;max-width:850px;line-height:1.6;}
.btn-slide{margin-top:35px;position:relative;display:inline-block;padding:15px 45px;border:2px solid #38bdf8;color:white;text-decoration:none;font-size:1.05rem;overflow:hidden;transition:.3s;z-index:1;cursor:pointer;}
.btn-slide::before{content:"";position:absolute;inset:0;left:-100%;background:#38bdf8;transition:.3s;z-index:-1;}
.btn-slide:hover::before{left:0;}
.btn-slide:hover{color:#0f172a;}
.services{margin:80px auto 0;padding:0 10%;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:30px;}
.card{background:#1e293b;padding:30px;border-radius:15px;transition:.4s;text-align:left;}
.card:hover{transform:translateY(-10px);box-shadow:0 0 25px rgba(56,189,248,.4);}
.card h3{color:#38bdf8;margin-bottom:10px;}
.card p{font-size:.9rem;opacity:.85;line-height:1.5;margin-bottom:10px;}
.plans{background:#020617;padding:110px 10%;}
.plans h2{margin-bottom:15px;}
.plan-grid{margin-top:60px;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:35px;}
.plan{background:#1e293b;padding:40px 30px;border-radius:20px;text-align:left;}
.plan.destacado{border:2px solid #38bdf8;transform:scale(1.05);}
.plan h3{color:#38bdf8;text-align:center;}
.price{font-size:2.4rem;margin:15px 0;text-align:center;}
.plan p{font-size:.95rem;opacity:.85;margin-bottom:15px;text-align:center;}
.plan ul{list-style:none;margin-bottom:25px;}
.plan ul li{margin:8px 0;font-size:.9rem;}
.plan ul li::before{content:"‚úî ";color:#38bdf8;}
.payment{background:#020617;padding:110px 10%;}
.payment-form{margin:50px auto 0;max-width:520px;display:flex;flex-direction:column;gap:15px;}
.payment-form input,.payment-form select,.payment-form textarea{padding:15px;border-radius:10px;border:none;outline:none;font-size:1rem;}
.payment-info{display:none;background:#1e293b;padding:15px;border-radius:10px;font-size:.95rem;}
.card-fields{display:none;flex-direction:column;gap:10px;}
.card-fields input{width:100%;}
footer{font-size:.9rem;padding:20px;background:#020617;text-align:center;}
</style>
</head>
<body>

<!-- HERO -->
<section class="hero">
<h1>Desarrollo Web & Sistemas Empresariales</h1>
<p>Creamos p√°ginas web profesionales, sistemas empresariales y soluciones digitales modernas enfocadas en automatizar procesos, mejorar tu presencia online y ayudarte a vender m√°s con tecnolog√≠a segura, r√°pida y escalable.</p>

<div class="services">
<div class="card"><h3>üåê P√°ginas Web</h3><p>Dise√±os modernos y r√°pidos</p><p>Desarrollamos sitios web atractivos y funcionales, optimizados para m√≥viles y buscadores, que convierten visitantes en clientes.</p></div>
<div class="card"><h3>üè¢ Sistemas Empresariales</h3><p>ERP y CRM a medida</p><p>Automatizamos tus procesos internos con sistemas empresariales personalizados para mejorar la eficiencia y la gesti√≥n de tu negocio.</p></div>
<div class="card"><h3>üì± Apps Web</h3><p>Escalables y seguras</p><p>Creamos plataformas web interactivas y seguras que se adaptan a las necesidades de tu empresa y permiten un crecimiento escalable.</p></div>
<div class="card"><h3>üöÄ Marketing Digital</h3><p>Automatizaci√≥n y ventas</p><p>Impulsamos tu presencia online con estrategias de marketing digital, posicionamiento SEO, campa√±as en redes y automatizaci√≥n de ventas.</p></div>
</div>

<a href="#planes" class="btn-slide">VER PLANES</a>
</section>

<!-- PLANES -->
<section class="plans" id="planes">
<h2>Planes de Servicio</h2>
<div class="plan-grid">
<div class="plan"><h3>B√°sico</h3><div class="price">$199</div><p>Ideal para emprendedores que reci√©n empiezan</p><ul><li>P√°gina web profesional</li><li>Dise√±o responsive</li><li>Formulario de contacto</li><li>Soporte b√°sico</li></ul><a href="#pago" class="btn-slide" onclick="seleccionarPlan('B√°sico - $199')">Elegir</a></div>
<div class="plan destacado"><h3>Profesional</h3><div class="price">$399</div><p>Perfecto para negocios en crecimiento</p><ul><li>Web avanzada</li><li>Sistema administrativo</li><li>Panel de control</li><li>Optimizaci√≥n SEO</li><li>Soporte prioritario</li></ul><a href="#pago" class="btn-slide" onclick="seleccionarPlan('Profesional - $399')">Elegir</a></div>
<div class="plan"><h3>Empresarial</h3><div class="price">$799</div><p>Soluci√≥n completa a medida</p><ul><li>Sistema personalizado</li><li>Automatizaci√≥n de procesos</li><li>Base de datos avanzada</li><li>Integraciones externas</li><li>Soporte premium</li></ul><a href="#pago" class="btn-slide" onclick="seleccionarPlan('Empresarial - $799')">Elegir</a></div>
</div>
</section>

<!-- FORMULARIO DE PAGO -->
<section class="payment" id="pago">
<h2>Contratar Plan</h2>
<p>Completa tus datos para continuar con el pago</p>

<form class="payment-form" method="POST" action="">
<input type="text" name="nombre" placeholder="Nombre completo" required>
<input type="email" name="email" placeholder="Correo electr√≥nico" required>
<input type="tel" name="telefono" placeholder="Tel√©fono" required>
<input type="text" id="planSeleccionado" name="plan" placeholder="Plan seleccionado" readonly required>

<select id="metodoPago" name="metodo" onchange="mostrarCamposPago()" required>
<option value="">Selecciona m√©todo de pago</option>
<option value="tarjeta">Tarjeta de cr√©dito / d√©bito</option>
<option value="paypal">PayPal</option>
<option value="transferencia">Transferencia bancaria</option>
<option value="yape">Yape / Plin</option>
<option value="binance">Binance</option>
</select>

<div class="payment-info" id="infoPaypal">Correo PayPal: tuemail@paypal.com</div>
<div class="payment-info" id="infoTransferencia">Cuenta Bancaria: 1234567890</div>
<div class="payment-info" id="infoYape">N√∫mero Yape/Plin: +51987654321</div>
<div class="payment-info" id="infoBinance">Cuenta Binance: tuemail@binance.com</div>

<div class="card-fields" id="tarjeta">
<input type="text" placeholder="N√∫mero de tarjeta">
<input type="text" placeholder="Nombre en tarjeta">
<input type="text" placeholder="Fecha de expiraci√≥n MM/AA">
<input type="text" placeholder="CVV">
</div>

<textarea name="mensaje" placeholder="Mensaje adicional (opcional)"></textarea>
<button type="submit" class="btn-slide">Confirmar pedido</button>
</form>
</section>

<footer>¬© 2026 Soluciones Digitales Pro</footer>

<script>
function seleccionarPlan(plan){document.getElementById("planSeleccionado").value=plan;}
function mostrarCamposPago(){
const metodo=document.getElementById("metodoPago").value;
const tarjetas=document.getElementById("tarjeta");
const infoPaypal=document.getElementById("infoPaypal");
const infoTrans=document.getElementById("infoTransferencia");
const infoYape=document.getElementById("infoYape");
const infoBinance=document.getElementById("infoBinance");
tarjetas.style.display="none";infoPaypal.style.display="none";infoTrans.style.display="none";infoYape.style.display="none";infoBinance.style.display="none";
if(metodo==="tarjeta") tarjetas.style.display="flex";
if(metodo==="paypal") infoPaypal.style.display="block";
if(metodo==="transferencia") infoTrans.style.display="block";
if(metodo==="yape") infoYape.style.display="block";
if(metodo==="binance") infoBinance.style.display="block";
}

// SweetAlert al cargar la p√°gina si hay mensaje
<?php if(!empty($mensajeSweet)): 
    list($tipo,$titulo,$texto) = explode("|",$mensajeSweet); ?>
Swal.fire({
    icon: '<?php echo $tipo; ?>',
    title: '<?php echo $titulo; ?>',
    text: '<?php echo $texto; ?>',
    confirmButtonColor: '#38bdf8'
});
<?php endif; ?>
</script>
</body>
</html>

